<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contattami</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

 <!-- Script per inviare la mail-->

  <script type="text/javascript">
    (function(){
      emailjs.init("iiwNZJUVv3GiIsMeG");
    })();
  </script>
</head>

<body>
      <!-- Navbar -->
      <div id="navbar-container"></div>
      <script>
        fetch("partials/navbar.html")
          .then(res => res.text())
          .then(html => {
            document.getElementById("navbar-container").innerHTML = html;
          });
      </script>


      <!-- Modulo contatto-->
      <section class="pt-32 text-center px-4">
          <h1 class="text-4xl font-bold text-center text-gray-800 mb-6">Restiamo in contatto. </br> E' semplice.</h1>
          <p class="text-center text-gray-600 mb-8">
            Parliamo del tuo prossimo progetto o di una possibile collaborazione. </br> 
            Ti risponderò appena possibile.
          </p>
          <div class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg">
            <form id="contact-form" method="POST">
              <div class="mb-4">
                <label for="name" class="block text-gray-700 font-medium mb-2">Nome</label>
                <input type="text" id="name" name="name" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div class="mb-4">
                <label for="surname" class="block text-gray-700 font-medium mb-2">Cognome</label>
                <input type="text" id="surname" name="surname" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div class="mb-4">
                <label for="email" class="block text-gray-700 font-medium mb-2">Email</label>
                <input type="email" id="mail" name="mail" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              </div>
              <div class="mb-4">
                <label for="message" class="block text-gray-700 font-medium mb-2">Messaggio</label>
                <textarea id="message" name="message" rows="5" required class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
              </div>
              <div class="text-center">
                <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition duration-300">Invia</button>
              </div>
              <div id="form-message-warning" class="text-red-500 mt-4"></div>
              <div id="form-message-success" class="text-green-500 mt-4"></div>
            </form>
          </div>
        </div>
      </body>
      
      <script>
        // Script per inviare la mail
        window.onload = function () {
          document.getElementById('contact-form').addEventListener('submit', function (event) {
            event.preventDefault();
            emailjs.sendForm('service_bqb625e', 'template_msu8c2t', '#contact-form')
              .then(function () {
                console.log('SUCCESS!');
                document.getElementById("form-message-success").innerHTML = "Il tuo messaggio è stato inviato, grazie!";
              }, function (error) {
                console.log('FAILED...', error);
                document.getElementById("form-message-warning").innerHTML = "Messaggio non inviato, riprova.";
              });
          });
        }
      </script>